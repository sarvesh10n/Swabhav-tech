<head>
    <titile>async pattern</titile>
</head>

<body>
    <script>
        var dataService=function()
        {
            var obj={};
            obj.getData=function(){
                return Math.random()*10;
            }

            obj.getDataAsync=function(callback){
                setTimeout(function(){
                    var r=Math.random()*100;
                    if(r>50)
                        callback("success"+r);
                    else
                        callback("Error-not-allowed");
                },0);
            }
            return obj;
        }();
        var d=dataService.getData();
        console.log(d);
        dataService.getDataAsync(function(r){
            console.log(r);
        });
        console.log("end of script");
    </script>
</body>